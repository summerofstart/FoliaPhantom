
# FoliaPhantom v2.0

**æ—¥æœ¬èª | Japanese**

**FoliaPhantom v2.0** ã¯ã€æ—¢å­˜ã® Bukkit / Spigot / Paper ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ Foliaï¼ˆPaper ã® ThreadedRegions å¯¾å¿œãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰ã§ã‚‚å‹•ä½œå¯èƒ½ã«ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã™ã€è»½é‡ãªã€Œã‚´ãƒ¼ã‚¹ãƒˆãƒ»ãƒ©ãƒƒãƒ‘ãƒ¼ã€ã§ã™ã€‚**v2.0ã§ã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¸è¦ã®ã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ¬ã‚¹å‹•ä½œã«åˆ·æ–°ã•ã‚Œã¾ã—ãŸã€‚**

---

## ğŸ§© ç‰¹å¾´ (v2.0)

-   **ã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ¬ã‚¹:** è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãªã—ã§ã€å¤šãã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ Folia ç’°å¢ƒã«é©å¿œã•ã›ã¾ã™ã€‚
-   **APIå¤‰æ›ã«ã‚ˆã‚‹è‡ªå‹•é©å¿œ:** ä¸»è¦ãª Bukkit APIï¼ˆãƒ¯ãƒ¼ãƒ«ãƒ‰æ“ä½œã€ãƒãƒ£ãƒ³ã‚¯æ“ä½œã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£æ“ä½œã€ãƒ–ãƒ­ãƒƒã‚¯æ“ä½œãªã©ï¼‰ã®å‘¼ã³å‡ºã—ã‚’æ¤œå‡ºã—ã€Foliaã®é©åˆ‡ãªã‚¹ãƒ¬ãƒƒãƒ‰ã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«å†…éƒ¨çš„ã«ãƒ©ãƒƒãƒ—ã—ã¾ã™ã€‚
    -   ã“ã®å¤‰æ›ã¯ã€äº’æ›æ€§ã‚’æœ€å¤§é™ã«é‡è¦–ã—ã€**å…ƒã®ãƒ¡ã‚½ãƒƒãƒ‰ã®è¦‹ãŸç›®ï¼ˆã‚·ã‚°ãƒãƒãƒ£ï¼‰ã‚’å¤‰æ›´ã—ã¾ã›ã‚“ã€‚**
    -   å†…éƒ¨çš„ã«ã¯éåŒæœŸå‡¦ç†ã‚’è¡Œã„ã¾ã™ãŒã€å‘¼ã³å‡ºã—å…ƒã«ã¯åŒæœŸçš„ã«çµæœã‚’è¿”ã—ã¾ã™ã€‚
-   **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®ãƒ—ãƒ­ã‚­ã‚·:** å¾“æ¥ã® `BukkitScheduler` APIå‘¼ã³å‡ºã—ã‚’ Folia å¯¾å¿œã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©å‘¼ã³å‡ºã—ã«è‡ªå‹•çš„ã«æŒ¯ã‚Šåˆ†ã‘ã¾ã™ã€‚
-   **NMSéä¾å­˜:** åŸºæœ¬çš„ã«NMSã‚³ãƒ¼ãƒ‰ã«ã¯è§¦ã‚Œãšã€Bukkit APIãƒ¬ãƒ™ãƒ«ã§ã®äº’æ›æ€§ã‚’æä¾›ã—ã¾ã™ã€‚

---

## âš™ï¸ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é † (v2.0)

1.  `FoliaPhantom.jar` ã‚’ã‚µãƒ¼ãƒãƒ¼ã® `plugins` ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚
2.  ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹ã¨ã€FoliaPhantom ãŒè‡ªå‹•çš„ã«æœ‰åŠ¹ã«ãªã‚Šã€ä»–ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®APIå‘¼ã³å‡ºã—ã®å¤‰æ›ã‚’é–‹å§‹ã—ã¾ã™ã€‚
    -   **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« (`config.yml`) ã¯ä¸è¦ã§ã™ã€‚**

---

## âš ï¸ åˆ¶é™ãƒ»æ³¨æ„ (v2.0)

*   **NMSï¼ˆnet.minecraft.serverï¼‰ä¾å­˜ã‚³ãƒ¼ãƒ‰:** ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ä¸»ã« Bukkit API ã‚’å¯¾è±¡ã¨ã—ã¦ã„ã¾ã™ã€‚NMSã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹: `WorldServer`, `MinecraftServer`, `EntityPlayer` ã®ç›´æ¥æ“ä½œï¼‰ã‚’å¤šç”¨ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€å¼•ãç¶šãæ­£å¸¸ã«å‹•ä½œã—ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
*   **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ•ãƒƒã‚¯:** `Unsafe` ã‚’ç”¨ã„ãŸãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ `BukkitScheduler` ã‚’ãƒ•ãƒƒã‚¯ã—ã¦ã„ã¾ã™ã€‚ç‰¹æ®Šãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã‚„Javaç’°å¢ƒã§ã¯å‹•ä½œã—ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
*   **ãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰æ“ä½œã®ãƒªã‚¹ã‚¯:**
    *   FoliaPhantom ã¯å®Ÿè¡Œæ™‚ã«ä»–ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚³ãƒ¼ãƒ‰ï¼ˆæ­£ç¢ºã«ã¯Bukkit APIå‘¼ã³å‡ºã—éƒ¨åˆ†ï¼‰ã‚’æ›¸ãæ›ãˆã¾ã™ï¼ˆãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰æ“ä½œï¼‰ã€‚ã“ã‚Œã¯å¼·åŠ›ãªæŠ€è¡“ã§ã™ãŒã€ä»–ã®é«˜åº¦ãªãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰æ“ä½œã‚’è¡Œã†ãƒ„ãƒ¼ãƒ«ï¼ˆä¸€éƒ¨ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ãƒ„ãƒ¼ãƒ«ã‚„ä»–ã®äº’æ›æ€§ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãªã©ï¼‰ã¨ç¨€ã«ç«¶åˆã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
    *   å…¨ã¦ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€å…¨ã¦ã®çŠ¶æ³ã§ã®å®Œå…¨ãªå‹•ä½œã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
*   **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢ã™ã‚‹è€ƒæ…®äº‹é …:**
    *   APIå¤‰æ›ã¯äº’æ›æ€§ã‚’æœ€å„ªå…ˆã—ã€Foliaã®éåŒæœŸå‡¦ç†ã®çµæœã‚’å†…éƒ¨ã§åŒæœŸçš„ã«å¾…ã£ã¦ã‹ã‚‰å…ƒã®å‡¦ç†ã«è¿”ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä¸€éƒ¨ã®APIå‘¼ã³å‡ºã—ã§ã¯ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§çŸ­æ™‚é–“ã®å¾…æ©ŸãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ã‚µãƒ¼ãƒãƒ¼ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚å¤šãã®å ´åˆã¯å•é¡Œã«ãªã‚‰ãªã„ãƒ¬ãƒ™ãƒ«ã§ã™ãŒã€æ¥µç«¯ã«é »ç¹ãªå‘¼ã³å‡ºã—ã‚„é‡ã„å‡¦ç†ã§ã¯å½±éŸ¿ãŒé¡•åœ¨åŒ–ã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
*   **äº’æ›æ€§ã®é™ç•Œ:** FoliaPhantomã¯å¤šãã®ä¸€èˆ¬çš„ãªã‚±ãƒ¼ã‚¹ã§äº’æ›æ€§ã‚’æä¾›ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ãŒã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å†…éƒ¨å®Ÿè£…ã«ã‚ˆã£ã¦ã¯äºˆæœŸã›ã¬å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã‚‚ã‚¼ãƒ­ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

---

## ğŸ“œ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

---

## âœ‰ï¸ ãŠå•ã„åˆã‚ã›

ãƒã‚°å ±å‘Šãƒ»æ”¹å–„ææ¡ˆãªã©ã¯ GitHub Issues ã¾ãŸã¯ Discord ã§ã©ã†ãã€‚

---

---

# FoliaPhantom v2.0

**English | è‹±èª**

**FoliaPhantom v2.0** is a lightweight "ghost wrapper" plugin aiming to enable existing Bukkit / Spigot / Paper plugins to run in the Folia (Paper's ThreadedRegions enabled version) environment. **Version 2.0 has been revamped for configless operation.**

---

## ğŸ§© Features (v2.0)

-   **Configless:** Adapts many plugins to the Folia environment without needing configuration files.
-   **Automatic Adaptation via API Transformation:** Detects calls to major Bukkit APIs (such as world manipulation, chunk operations, entity interactions, block changes) and internally wraps them to be executed on appropriate Folia threads.
    -   This transformation prioritizes maximum compatibility and **does not change the apparent signature of the original methods.**
    -   Internally, it performs asynchronous operations but returns results synchronously to the caller.
-   **Scheduler Proxy:** Automatically redirects traditional `BukkitScheduler` API calls to Folia-compatible scheduler calls.
-   **NMS-Independent:** Primarily provides compatibility at the Bukkit API level, without touching NMS code.

---

## âš™ï¸ Installation (v2.0)

1.  Place `FoliaPhantom.jar` into your server's `plugins` folder.
2.  Start your server. FoliaPhantom will automatically activate and begin transforming API calls from other plugins.
    -   **No configuration file (`config.yml`) is required.**

---

## âš ï¸ Limitations & Caveats (v2.0)

*   **NMS (net.minecraft.server) Dependent Code:** This plugin primarily targets the Bukkit API. Plugins heavily relying on NMS code (e.g., direct manipulation of `WorldServer`, `MinecraftServer`, `EntityPlayer`) may still not function correctly.
*   **Scheduler Hooking:** Uses `Unsafe` and reflection to hook into `BukkitScheduler`. May not work in specific Java environments with strict security settings.
*   **Bytecode Manipulation Risks:**
    *   FoliaPhantom modifies the code of other plugins at runtime (specifically, Bukkit API call sites) via bytecode manipulation. While powerful, this technique may rarely conflict with other tools that perform advanced bytecode operations (e.g., some performance profilers or other compatibility layer plugins).
    *   It does not guarantee perfect operation with all plugins under all circumstances.
*   **Performance Considerations:**
    *   API transformations prioritize compatibility by synchronously waiting for the results of internal asynchronous operations before returning to the original caller. This may cause brief blocking waits on the main thread for some API calls, potentially impacting server performance. While often negligible, this could become noticeable with extremely frequent calls or heavy operations.
*   **Compatibility Limits:** While FoliaPhantom aims to provide compatibility for many common cases, unexpected issues may still arise depending on a plugin's internal implementation.

---

## ğŸ“œ License

MIT License

---

## âœ‰ï¸ Contact

For bug reports or feedback, please use GitHub Issues or contact us via Discord.




---

## ğŸ”“ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å…¬é–‹ã«ã¤ã„ã¦ï¼ˆäºˆå®šï¼‰

ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ç¾åœ¨éå…¬é–‹ã§ã™ãŒã€å¾Œæ—¥ GitHub ä¸Šã§ **ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ï¼ˆMITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ï¼‰ã¨ã—ã¦å…¬é–‹äºˆå®š**ã§ã™ã€‚\\

---

## ğŸ”“ Source Code Release (Planned)

The source code for this plugin is currently **not public**, but we plan to release it as **open source (MIT License)** on GitHub in the near future.\\



# âœ¨ Decompilation Permission / ãƒ‡ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è¨±å¯


# ğŸ›  Letâ€™s build it together. / ä¸€ç·’ã«ä½œã‚Šã¾ã—ã‚‡ã†ï¼

